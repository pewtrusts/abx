{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./submodules/UTILS/index.js","webpack:///./submodules/UI-js/element/index.js","webpack:///./src/index.js","webpack:///./src/abx.js","webpack:///./src/data/abx-data.csv","webpack:///./src/views/viz-view/index.js","webpack:///./src/views/viz-view/styles.scss?28c4","webpack:///./src/views/visually-hidden/index.js","webpack:///./submodules/PCTApp-js/index.js","webpack:///./submodules/ROUTR/index.js","webpack:///./src/partials/sections.html","webpack:///./src/partials/intro.md","webpack:///./src/partials/notes.md"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","GTMPush","eventLabel","dataLayer","event","eventData","publishWindowResize","S","resizeTimeout","addEventListener","setTimeout","setState","document","documentElement","clientWidth","clientHeight","FadeInText","HTMLElement","fadeOutContent","this","classList","add","fadeInContent","content","_this","durationS","style","transition","Promise","resolve","durationStr","getComputedStyle","getPropertyValue","duration","parseFloat","innerHTML","remove","StringHelpers","String","cleanString","replace","toLowerCase","removeUnderscores","undoCamelCase","trunc","useWordBoundary","subString","substr","lastIndexOf","hashCode","hash","charCodeAt","DOMHelpers","indexOf","classStrings","match","idString","elString","el","createElement","forEach","klass","setAttribute","q","querySelector","qa","querySelectorAll","_Utils","Element","selector","options","_classCallCheck","model","parent","renderToSelector","container","$d","children","rerender","rerenderOnDataMismatch","isMismatched","prerender","arguments","isReady","reject","existing","prerendered","_abx","App","ABXApp","needsRouter","IS_PRERENDERING","init","_statefulDead","views","startYear","getRuntimeData","publicPath","PUBLICPATH","appContainer","Papa","parse","download","dynamicTyping","header","fastMode","skipEmptyLines","beforeFirstChunk","chunk","dataHash","toString","getAttribute","complete","response","years","loopWhile","index","unnestedData","map","id","year","column","parseInt","isDiscontinued","observations","observation","phase","values","filter","activeLengths","discontinuedLengths","obs","drug","maxActive","Math","max","maxDiscontinued","createComponent","VizView","VisuallyHidden","error","PCTApp","insertAdjacentHTML","sections","intro","notes","then","view","appendChild","_this3","_get","__proto__","getPrototypeOf","headers","isFirstLoad","minUnitDimension","headerHeight","unitPadding","phaseMembers","concat","active","discontinued","heightNeeded","renderColumns","cont","placeholderNumber","activeContainer","placeholder","drugEmpty","controlContainer","playButton","type","title","yearButton","yearButtonActive","textContent","inputWrapper","input","label","inputLabel","headerContainer","headerDiv","phaseFull","toUpperCase","phaseAbbr","discontinuedContainer","yearIndex","_this4","JSON","stringify","k","getPhaseMembersIndex","filtered","sort","a","b","undefined","previousStatuses","containerIndex","gramNegative","novel","urgent","wasDiscontinued","company","addIdsAndClasses","currentYear","currentObservation","each","isRestart","stateBeforeChange","getState","recordStatuses","PS","setSubs","checkHeight","update","setYearState","nonEmptyDrugs","initializeYearButtons","initializeAnimateOnOff","initializePlayButton","animateYears","handlerBind","checked","playYearsBind","playYears","yearButtonPrevious","playBtn","blur","removeEventListener","pausePlayBind","willPause","yearButtons","btn","removeAttribute","_this6","thisResolveDelay","disableYearButtons","showPauseOption","_duration","removeReplayOption","clearAttributesAndDetails","enableYearButtons","resolution","nextPromise","_this5","removePauseOption","showReplayOption","replayBtn","replay","pause","pausePlay","innerHeight","body","squat","root","activeMax","floor","setProperty","_this7","button","_this8","disablePlayButton","msg","observation0","observation1","FLIP","updateText","totalActive","totalDiscontinued","reduce","acc","cur","approvedSpan","discontinuedSpan","totals","recordFirstPositions","populatePlaceholders","_tippy2","default","arrow","distance","isBackward","invertPositions","playAnimation","firstPositions","Array","from","getBoundingClientRect","className","_tippy","destroy","_this9","transitionDuration","lastPosition","deltaY","top","deltaX","left","transform","isTranslated","entering","_this12","currentState","DOMDrug","dur","_index","styleMatch","translateXY","split","isMoving","hasMovedBackward","show","popper","popperCurrentTranslate3d","transitionTimingFunction","requestAnimationFrame","contains","hide","highlightColumn","bool","isAnimating","animateSingleColumn","_this10","subsetDelay","matchingDrugIDs","keys","matchingDOMDrugs","includes","elementsWillStayButMove","currentDatum","find","elementsWillChangeStatus","subsets","handleSubset","_this11","regressed","array","delay","resolveDelay","enablePlayButton","enteringDrug","superSquat","pauseSpinner","_element","heading","subheading","status","statusLabel","list","item","_Router","option","routerOptions","router","Router","disableHoverOnTouch","hasHoverClass","lastTouchTime","enableHover","Date","component","_options","_typeof","encode","decode","isArray","stateObj","hashState","decodeHash","viewPromises","all","subscriptions","hashChange","setStateObj","replaceState","history","hashString"],"mappings":"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","file":"js/index.js?v=1f3ed0","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([5,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/* global dataLayer */\nexport function GTMPush(eventLabel) {\n    if (dataLayer) {\n        dataLayer.push({ 'event': 'Interactive Click', 'eventData': eventLabel });\n    }\n}\nexport function publishWindowResize(S) { // need to pass in the StateModule\n    window.addEventListener(\"resize\", resizeThrottler, false);\n\n    var resizeTimeout;\n\n    function resizeThrottler() { // adapted from https://developer.mozilla.org/en-US/docs/Web/Events/resize#setTimeout\n        // ignore resize events as long as an actualResizeHandler execution is in the queue\n        if (!resizeTimeout) {\n            resizeTimeout = setTimeout(function() {\n                actualResizeHandler();\n                resizeTimeout = null;\n            }, 350);\n        }\n    }\n\n    function actualResizeHandler() {\n        \n        S.setState('resize', [document.documentElement.clientWidth, document.documentElement.clientHeight]);\n    }\n}\nexport const FadeInText = (function(){\n    HTMLElement.prototype.fadeOutContent = function(){\n         this.classList.add('no-opacity');\n    };\n    HTMLElement.prototype.fadeInContent = function(content, s){\n        var durationS = s || 0;\n        if ( s ){\n            this.style.transition = 'opacity ' + s + 's ease-in-out';\n        }\n        return new Promise((resolve) => {\n            var durationStr = window.getComputedStyle(this).getPropertyValue('transition-duration') || durationS,\n                duration = parseFloat(durationStr) * 1000;\n            this.fadeOutContent();\n            setTimeout(() => {\n                this.innerHTML = content;\n                this.classList.remove('no-opacity');\n                resolve(true);\n            }, duration);\n        });\n    };\n})();\nexport const StringHelpers = (function(){\n    String.prototype.cleanString = function() { // lowercase and remove punctuation and replace spaces with hyphens; delete punctuation\n        return this.replace(/[ /]/g,'-').replace(/['\"”’“‘,.!?;()&:]/g,'').toLowerCase();\n    };\n\n    String.prototype.removeUnderscores = function() { \n        return this.replace(/_/g,' ');\n    };\n\n    String.prototype.undoCamelCase = function() {\n        return this.replace(/([A-Z])/g, ' $1').toLowerCase();\n    };\n\n    String.prototype.trunc = String.prototype.trunc || // ht https://stackoverflow.com/a/1199420\n         function( n, useWordBoundary ){\n             if (this.length <= n) { return this; }\n             var subString = this.substr(0, n-1);\n             return (useWordBoundary \n                ? subString.substr(0, subString.lastIndexOf(' ')) \n                : subString) + \"...\";\n          };\n\n    String.prototype.hashCode = function() {\n      var hash = 0, i, chr;\n      if (this.length === 0) return hash;\n      for (i = 0; i < this.length; i++) {\n        chr   = this.charCodeAt(i);\n        hash  = ((hash << 5) - hash) + chr;\n        hash |= 0; // Convert to 32bit integer\n      }\n      return hash;\n    };\n})()\n\nexport const DOMHelpers = {\n c:  (s) => {\n     \n     if ( s.indexOf('.') !== -1 || s.indexOf('#') !== -1 ){\n         let classStrings = s.match(/\\.([^#.]*)/g) || [];\n         let idString = s.match(/#([^.]*)/);\n         let elString = s.match(/^([^.#]+)/);\n         \n         \n         let el = document.createElement(elString[0]);\n         classStrings.forEach(klass => {\n            el.classList.add(klass.replace('.',''));\n         });\n         if ( idString !== null ){\n            el.setAttribute('id', idString[1]);\n         }\n         return el;\n     }\n     return document.createElement(s);\n },\n q:  (s) => document.querySelector(s),\n qa: (s) => document.querySelectorAll(s)\n}\n","import { DOMHelpers as $d } from '@Utils';\nexport default class Element {\n    constructor(selector, options){\n        if ( typeof selector !== 'string' ){\n            throw `First parameter must be a string referencing the CSS-like selector of the element to be created \n                    (\"div#divID.divClass\").`;\n        } \n        this.selector = selector;\n        this.model = options.model;\n        this.parent = options.parent; // parent is a JS object\n        this.renderToSelector = options.renderToSelector;\n        this.container = $d.q(this.renderToSelector);\n        this.children = options.children;\n        this.rerender = ( options.rerenderOnDataMismatch && options.model.isMismatched );\n        this.data = options.data;\n        \n        this.el = this.prerender(arguments); // will call the instance's prerender\n        this.isReady = new Promise((resolve, reject) => {\n            this.resolve = resolve;\n            this.reject = reject;\n        });\n        \n    }\n    prerender(){\n        \n        var existing = $d.q(this.selector);\n        if ( existing && !this.rerender ) {\n                // ie is existing and no need to rerender\n            this.prerendered = true;\n            \n            return existing;\n        } else if ( existing ) { // ie is existing but there is a need to rerender\n            \n            existing.innerHTML = '';\n            return existing;\n        }\n        var el = $d.c(this.selector);\n        return el;\n    }\n    init(){\n        \n    }\n}","/* global process */\n/*eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"StringHelpers|FadeInText\" }]*/ //allow StringHelpers to be iported (defined) and not being explicitly called\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// without triggering eslint error\nimport { StringHelpers, FadeInText } from '@Utils'; // string helpers is an IIFE\nimport ABXApp from './abx.js';\nimport './css/styles.scss';\n\n\nconst container = '#pew-app';\nconst App = new ABXApp(container, { // StateDebt extends PCTApp-js. PCTApp-js's constructor method is called, p1 contaiuner, p2 options\n\tneedsRouter: false\n});\nif ( process.env.NODE_ENV === 'development' || window.IS_PRERENDERING ){ // process development means using WebPack dev server. window is prerendering means in\n\tApp.prerender();\n}\nApp.init();","/* global PUBLICPATH process */\n//utils\n//import * as d3 from 'd3-collection';\nimport Papa from 'papaparse';\nimport { stateModule as S } from 'stateful-dead';\n//import PS from 'pubsub-setter';\nimport { publishWindowResize } from '@Utils';\n\n//data ( CSVs loaded by file-loader for use by Papaparse at build and runtime. that's set in webpack.common.js )\nimport data from './data/abx-data.csv';\n\n//views\nimport VizView from './views/viz-view/';\nimport VisuallyHidden from './views/visually-hidden/';\n//import FiftyStateView from './views/fifty-state/';\n\n// app prototype\nimport PCTApp from '@App';\n\n//static content\nimport sections from './partials/sections.html';\nimport intro from './partials/intro.md';\nimport notes from './partials/notes.md';\n\npublishWindowResize(S); // initialize publish window resize with StateMOdule as param/\n\nconst model = {\n    \n    // any static data should be made properties of the model now\n    \n};\n\nconst views = []; // views get push  nly after model is fully ready, with any runtime data loaded\nconst startYear = 2014;\n\nfunction getRuntimeData(){\n    var publicPath = '';\n    if ( process.env.NODE_ENV === 'production' && !window.IS_PRERENDERING ){ // production build needs to know the public path of assets\n                                                                             // for dev and preview, assets are a child of root; for build they\n                                                                             // are in some distant path on sitecore\n        publicPath = PUBLICPATH; // TODO: set PUBLICPATH using define plugin in webpack.build.js\n    }\n    return new Promise((resolve, reject) => {\n        var appContainer = this.el;\n        Papa.parse(publicPath + data, {\n            download: true,\n            dynamicTyping: true,\n            header: true,\n            fastMode: false, // string escapes needed to parse sringified arrays with commas\n            skipEmptyLines: true,\n            beforeFirstChunk(chunk){ // on prerender, do simple hash of CSV contents and append as attribute of the app container\n                                     // at runtime, do same hash of csv contents and compare to original. if hashes match, app will\n                                     // continue normally. if mismatched, app will rerender all components based on the new data.\n                                     // this allows for `hot` updating of the main data file without rebuilding the dist/ folder.\n                                     // `model.isMismatch` will be set to `true` and the prerendering functions will check that value\n                                     // and respond accordingly\n\n                var dataHash = chunk.hashCode(); // hashCode is helper function from utils, imported and IIFE'd in index.js\n                if ( window.IS_PRERENDERING ){\n                    appContainer.setAttribute('data-data-hash', dataHash);\n                } else if ( process.env.NODE_ENV !== 'development' && dataHash.toString() !== appContainer.getAttribute('data-data-hash') ){\n                    appContainer.setAttribute('data-data-mismatch',true);\n                    console.log('data mismatch');\n                    model.isMismatched = true; // set so that components can access this value \n                }\n            },\n            complete: response => { // arrow function here to keep `this` context as StateDebt\n                views.length = 0;  \n                model.years = [];\n                // find number of years in data. relies on all rows having the same number\n                var loopWhile = true,\n                index = 0;\n\n                // create array of years present in the data, starting with startYear defined above\n                while ( loopWhile ){\n                    if ( response.data[0].hasOwnProperty(startYear + index) ) {\n                        model.years.push(startYear + index);   \n                    } else {\n                        loopWhile = false;\n                    }\n                    index++\n                }\n                model.unnestedData = response.data.map(d => { // turn each string value like \"1-1d\" into an array , [1,1d]\n                    d.id = 'drug-' + d.id;\n                    model.years.forEach(year => {\n                        d[year] = [0].map(() => {\n                            \n                            return {\n                                column: parseInt(d[year]),\n                                isDiscontinued: ( d[year].toString().indexOf('d') !== -1 )\n                            };\n                        });\n                    });\n                    return d;\n                });\n                model.data = model.years.map(year => {\n                    return {\n                        year,\n                        observations: [0].map(observation => { // each year has two observations\n                            return [1, 2, 3, 4, 5].map(phase => {\n                                \n                                return {\n                                    phase,\n                                    values: model.unnestedData.filter(d => d[year][observation].column === phase) \n                                };\n                            });\n                        })\n                    };\n                });\n                console.log(model);\n                const activeLengths = [];\n                const discontinuedLengths = [];\n                // find the maximum number of nondiscontinued drugs in one column at any time. side effect pushes \n                // number of discontinued drugs to array for max tbd later\n                // these values will be used to determine when stacked drugs need to be collapsed down\n                // for smaller screens\n                model.data.forEach(d => {\n                    d.observations.forEach((obs,i) => {\n                        obs.forEach(phase => {\n                            activeLengths.push(phase.values.filter(drug => drug[d.year][i].isDiscontinued !== true).length);\n                            discontinuedLengths.push(phase.values.filter(drug => drug[d.year][i].isDiscontinued === true).length);\n                        });\n                    });\n                });\n                model.maxActive = Math.max(...activeLengths);\n                model.maxDiscontinued = Math.max(...discontinuedLengths);\n                console.log(model);\n               \n                /* push views now that model is complete */\n                \n                views.push(\n                   this.createComponent(model, VizView, 'div#viz-view', {renderToSelector: '#abx-visualization', rerenderOnDataMismatch: true, parent: this}),\n                   this.createComponent(model, VisuallyHidden, 'div#visually-hidden-view', {renderToSelector: '#visually-hidden-container', rerenderOnDataMismatch: true, parent: this})\n                   // this.createComponent(model, FiftyStateView, 'div#fifty-state-view', {renderToSelector: '#section-states .js-inner-content', rerenderOnDataMismatch: true, parent: this})  \n                );\n                \n                resolve(true);\n            },\n            error: function(error){\n                reject(error);\n            }\n        });\n    });\n}\n\nexport default class ABXApp extends PCTApp {\n    prerender(){\n\n        //indsert any static content here\n        this.el.insertAdjacentHTML('beforeend', sections);\n        document.querySelector('#intro').insertAdjacentHTML('afterbegin', intro );\n        document.querySelector('#abx-notes').insertAdjacentHTML('afterbegin', notes );\n        //this.wasPrerendered = false;\n        getRuntimeData.call(this).then(() => { // bind StateDebt as context `this` for getRuntimeData so that it can acceess this.el, etc\n            \n            views.forEach(view => {\n                console.log(view);\n          /* ? */      view.container.appendChild(view.el); // different here from CapeTown: views aren't appended to app container; some static content\n                                                     // is present already. views appended to *their* containers\n            });\n            //this.container.classList.add('rendered');\n        });\n    }\n    init(){\n        super.init();\n       // this.attachSectionOpenClose();\n        getRuntimeData.call(this).then(() => {\n            views.forEach(view => {\n               view.init(this);                    \n            });\n        });                                \n\n/*        if ( module.hot ){\n            let that = this;\n            module.hot.accept('./views/state-comparison', () => {\n                console.log('accept!', arguments, that);\n                document.querySelector('#section-comparison .js-inner-content').innerHTML = '';\n                var replacement = that.createComponent(model, ComparisonView, 'div#comparison-view', {renderToSelector: '#section-comparison .js-inner-content', rerenderOnDataMismatch: true});\n                console.log(replacement);\n                replacement.container.appendChild(replacement.el);\n\n            });\n        } */\n    }\n}","module.exports = __webpack_public_path__ + \"data/abx-data.csv?v=eeba4a\";","import Element from '@UI/element';\nimport s from './styles.scss';\nimport { stateModule as S } from 'stateful-dead';\nimport PS from 'pubsub-setter';\nimport tippy from 'tippy.js';\nimport './tippy-styles.scss';\nimport { GTMPush } from '@Utils';\n\nconst minUnitDimension = 30; // minimum px height/width accepted for touchable element\nconst headerHeight = 1.5 * minUnitDimension; // the height of the phase-heading bars relative to minUnitDimension\nconst unitPadding = 2;\nconst headers = [\n    ['Phase 1', 'P1'],\n    ['Phase 2', 'P2'],\n    ['Phase 3', 'P3'],\n    ['Application', 'NDA'],\n    ['Approved', '&#x2713']\n];\n\nconst duration = 1200;\n\nvar  isFirstLoad = true;\n\n\n\nexport default class VizView extends Element {\n    prerender() { // this prerender is called as part of the super constructor\n        /* any children need to be instatiated here */\n\n        this.minUnitDimension = minUnitDimension;\n        this.headerHeight = headerHeight;\n        this.unitPadding = unitPadding;\n        this.headers = headers;\n        this.phaseMembers = [0,1].map(() => {\n            return [0, ...headers].map(d => { // will keep track of which drugs are in which column so that animations can be timed and so that \n                                       // drugs that stay in their column from one step to another can be placed before those entering the\n                                       // column\n                return {\n                    active: d === 0 ? this.model.unnestedData.map(drug => drug.id) : [],\n                    discontinued: []\n                };\n            });\n        });\n          \n        this.heightNeeded = ( this.model.maxActive + this.model.maxDiscontinued + 1 ) * ( this.minUnitDimension + this.unitPadding ) + this.headerHeight + this.unitPadding + 200;\n        //container\n        var view = super.prerender();\n        if (this.prerendered && !this.rerender) {\n            return view; // if prerendered and no need to render (no data mismatch)\n        }\n\n\n        function renderColumns(cont) {\n            for (let i = 0; i < 5; i++) {\n                let column = document.createElement('div');\n                column.classList.add(s.column);\n                let placeholderNumber = cont.name === s.activeContainer ? this.model.maxActive : this.model.maxDiscontinued;\n                for (let j = 0; j < placeholderNumber; j++) {\n                    let placeholder = document.createElement('div');\n                    placeholder.classList.add(s.drug, s.drugEmpty);\n                    column.appendChild(placeholder);\n                }\n                cont.appendChild(column);\n            }\n        }\n\n        // controls\n        var controlContainer = document.createElement('div');\n        controlContainer.classList.add(s.controlContainer);\n\n            // playButton\n            var playButton = document.createElement('button');\n            playButton.classList.add(s.playButton);\n            playButton.type = \"button\";\n            playButton.title = 'Play';\n            controlContainer.appendChild(playButton);\n\n            //years\n            this.model.years.forEach((year, i) => {\n                var yearButton = document.createElement('button');\n                yearButton.classList.add(s.yearButton, `${ i === 0 ? s.yearButtonActive : 'nope'}`);\n                yearButton.type = \"button\";\n                yearButton.value = year;\n                yearButton.textContent = year;\n                controlContainer.appendChild(yearButton);\n            });\n\n            //animate on/off\n            var inputWrapper = document.createElement('div');\n            inputWrapper.classList.add(s.inputWrapper);\n            \n            var input = document.createElement('input');\n            input.classList.add('js-animate-checkbox');\n            input.setAttribute('type', 'checkbox');\n            input.setAttribute('checked', 'checked');\n            input.id = 'toggle-animate-on-off';\n\n            var label = document.createElement('label');\n            label.classList.add(s.inputLabel);\n            label.setAttribute('for', 'toggle-animate-on-off');\n            label.textContent = 'Animate change';\n\n            inputWrapper.appendChild(input);\n            inputWrapper.appendChild(label);\n            controlContainer.appendChild(inputWrapper);\n\n\n\n        view.appendChild(controlContainer);\n\n        // container\n        var container = document.createElement('div');\n        container.classList.add(s.container);\n        view.appendChild(container);\n\n        // active container\n        var activeContainer = document.createElement('div');\n        activeContainer.classList.add(s.activeContainer);\n        activeContainer.name = s.activeContainer;\n        container.appendChild(activeContainer);\n\n        // header container\n        var headerContainer = document.createElement('div');\n        headerContainer.classList.add(s.headerContainer);\n        headerContainer.name = s.headerContainer;\n        headers.forEach(phase => {\n            var headerDiv = document.createElement('div');\n            headerDiv.classList.add(s.headerDiv);\n            headerDiv.innerHTML = `<span class=\"${s.phaseFull}\">${phase[0].toUpperCase()}</span><span class=\"${s.phaseAbbr}\">${phase[1]}</span>`;\n            headerContainer.appendChild(headerDiv);\n        });\n        container.appendChild(headerContainer);\n\n        // discontinued container\n        var discontinuedContainer = document.createElement('div');\n        discontinuedContainer.classList.add(s.discontinuedContainer);\n        discontinuedContainer.name = s.discontinuedContainer;\n        container.appendChild(discontinuedContainer);\n\n        // columns\n        renderColumns.call(this, activeContainer);\n        renderColumns.call(this, discontinuedContainer);\n\n\n\n        return view;\n    }\n    populatePlaceholders(yearIndex, observation) {\n        console.log(this.previousStatuses);\n\n        function addIdsAndClasses(placeholder, drug, containerIndex, previousStatuses, model){\n            placeholder.id = drug.id;\n            placeholder.classList.remove(s.drugEmpty);\n            placeholder.classList.add(`${ drug.gramNegative ? s.gramNegative : 'nope' }`, `${ drug.novel ? s.novel : 'nope' }`, `${ drug.urgent ? s.urgent : 'nope' }`, `${ previousStatuses && previousStatuses[drug.id] && previousStatuses[drug.id].isDiscontinued && !drug[model.years[yearIndex]].isDiscontinued ? s.wasDiscontinued : 'nope'}`);\n            if ( containerIndex === 1 ){\n                placeholder.classList.add(s.isDiscontinued);\n            }\n            placeholder.setAttribute('data-tippy-content',`<strong>${drug.name}</strong><br />${drug.company}`);\n        }\n\n        var activeContainer = document.querySelector('.' + s.activeContainer),\n            discontinuedContainer = document.querySelector('.' + s.discontinuedContainer);\n\n        // copy index 1 of phaseMembers to index 0. JSON parse/stringify to make deep copy\n        this.phaseMembers[0] = JSON.parse(JSON.stringify(this.phaseMembers[1]));\n        console.log(this.phaseMembers, this.previousStatuses);\n        [activeContainer, discontinuedContainer].forEach((container, k) => {\n            var isDiscontinued = k === 0 ? false : true;\n\n            this.model.data[yearIndex].observations[observation].forEach((phase, i) => {\n                function getPhaseMembersIndex(id){\n                    return this.phaseMembers[1][i + 1][( isDiscontinued ? 'discontinued' : 'active' )].indexOf(id)   \n                }\n                // filter drugs by whether they're active or discontinued; also sort them based on whether they were already in the column\n                //  they are about to be placed in\n                var filtered = phase.values.filter(d => k === 0 ? !d[this.model.years[yearIndex]][observation].isDiscontinued : d[this.model.years[yearIndex]][observation].isDiscontinued).sort((a, b) => {\n                       \n                       /* ENTERING / NOT ENTERING */\n                       if (this.previousStatuses === undefined ){ // should be true only on first load\n                           return a.id - b.id; // lower ids first\n                       }\n\n                       if ( !this.previousStatuses[a.id] && !this.previousStatuses[b.id] ){ // both are entering. coercing !true to catch undefined or zero\n                           return a.id - b.id;  // lower ids first\n                       }\n\n                       if ( !this.previousStatuses[a.id] ) { // a is entering but b is not. coercing !true to catch undefined or zero\n                            return 1;\n                       }\n\n                       if ( !this.previousStatuses[b.id] ) { // b is entering but a is not. coercing !true to catch undefined or zero\n                            return -1;\n                       }\n\n                       /* STAYING IN COLUMN / NOT STAYING IN COLUMN */\n                                                                    // .column is 1-indexed, i is zero indexed\n                       if ( this.previousStatuses[a.id].column === i + 1 && this.previousStatuses[a.id].isDiscontinued === isDiscontinued ) { // a is in current column and matches current discontinued state\n                            if ( this.previousStatuses[b.id].column === i + 1 && this.previousStatuses[b.id].isDiscontinued === isDiscontinued ) { // also true for b \n                                // i.e. BOTH ARE IN SAME COLUMN\n                                return getPhaseMembersIndex.call(this, a.id) < getPhaseMembersIndex.call(this, b.id) ? -1 : 1;\n                            }\n                            // not also true for b\n                            return -1;\n                       }\n                       if ( this.previousStatuses[b.id].column === i + 1 && this.previousStatuses[b.id].isDiscontinued === isDiscontinued ) { // b is in current column and matches current discontinued state. not true for a\n                            return 1;\n                       }\n                       if ( this.previousStatuses[a.id].column === i + 1 ){ // A is in current column but changing status\n                            if ( this.previousStatuses[b.id].column === i + 1 && this.previousStatuses[b.id].isDiscontinued !== isDiscontinued ){ // same is true for B\n                                return a.id - b.id;\n                            }\n                            if ( this.previousStatuses[b.id].column === i + 1 ){ // B is also in current column but is not changing status\n                                return 1;\n                            } else {\n                                return -1;\n                            }\n                       }\n                       if ( this.previousStatuses[b.id].column === i + 1 ) {\n                            return 1;\n                       }\n\n                       // process of elimination, below both a and b have been present but are coming from columns other than the current\n                       if ( this.previousStatuses[a.id].column > this.previousStatuses[b.id].column ) { // sort drugs coming from greater columns first\n                            return -1;\n                       }\n                       if ( this.previousStatuses[a.id].column < this.previousStatuses[b.id].column ) { // sort drugs coming from lesser columns last\n                            return 1;\n                       }\n                       // process of elimination, below both and b coming from the same column\n                       if ( this.previousStatuses[a.id].isDiscontinued === isDiscontinued && this.previousStatuses[b.id].isDiscontinued !== isDiscontinued ) { // A was discontinued/notDiscontinued; B was not\n                            return -1;\n                       }\n                       if ( this.previousStatuses[b.id].isDiscontinued === isDiscontinued && this.previousStatuses[a.id].isDiscontinued !== isDiscontinued ) { // B was discontinued/notDiscontinued; A was not\n                            return 1;\n                       }\n                       return a.id - b.id; // lower ids first\n                    }),\n                    column = container.querySelectorAll('.' + s.column)[i];\n                \n                \n                // clear the phaseMember array now that its previous contents have been utilized\n                this.phaseMembers[1][i + 1][ ( k === 0 ? 'active' : 'discontinued' ) ].length = 0;\n                filtered.forEach((drug, j) => {\n                    var placeholder = column.querySelectorAll('.' + s.drug)[j];\n                    addIdsAndClasses(placeholder, drug, k, this.previousStatuses, this.model);\n                    this.phaseMembers[1][i + 1][ ( k === 0 ? 'active' : 'discontinued' ) ].push(drug.id); // place the drug in the proper bucket tracking its column\n                });\n                this.phaseMembers[1][0].active = this.model.unnestedData.filter(d => d[+this.currentYear][this.currentObservation].column === 0).map(each => each.id);\n             //   console.log(this.phaseMembers);\n            });\n        });\n        \n    }\n    setYearState(data, isRestart){\n        var stateBeforeChange = S.getState('year');\n        if ( stateBeforeChange && !isRestart ){\n            this.recordStatuses(stateBeforeChange[0], stateBeforeChange[2]);\n        }\n        S.setState('year', data);\n        this.currentYear = data[0];\n        this.currentObservation = data[2];\n\n    }\n    init() {\n        PS.setSubs([\n            ['resize', this.checkHeight.bind(this)],\n            ['year', this.update.bind(this)],\n          //  ['isBackward', this.toggleIsBackward.bind(this)],\n           // ['isSameYear', this.toggleIsSameYear.bind(this)]\n        ]);\n        this.setYearState([this.model.years[0], null, 0]);\n        this.nonEmptyDrugs = document.querySelectorAll('.' + s.drug + ':not(.' + s.drugEmpty + ')');\n        this.checkHeight();\n        this.initializeYearButtons();\n        this.initializeAnimateOnOff();\n        this.initializePlayButton();\n    }\n   /* toggleIsSameYear(msg,data){\n        var container = this.controlContainer || document.querySelector('.' + s.controlContainer);\n        if ( data ){\n            container.classList.add(s.isSameYearSelected);\n        } else {\n            container.classList.remove(s.isSameYearSelected);\n        }\n    }*/\n  /*  toggleIsBackward(msg, data){\n        var container = this.controlContainer || document.querySelector('.' + s.controlContainer);\n        if ( data ){\n            container.classList.add(s.isMovingBackward);\n        } else {\n            container.classList.remove(s.isMovingBackward);\n        }\n    }*/\n    initializeAnimateOnOff(){\n        this.animateYears = true;\n        function handler(el){\n            if ( el.checked ){\n                GTMPush('ABXAnimation|ToggleAnimation|On');\n                this.animateYears = true;\n            } else {\n                GTMPush('ABXAnimation|ToggleAnimation|Off');\n                this.animateYears = false;\n            }\n            console.log(this);\n        }\n        var input = document.querySelector('.js-animate-checkbox');\n        var handlerBind = handler.bind(this);\n        input.addEventListener('change', function(){\n            handlerBind(this);\n        });\n    }\n    initializePlayButton(){\n        this.playYearsBind = this.playYears.bind(this);\n        var playButton = document.querySelector('.' + s.playButton);\n        playButton.addEventListener('click', this.playYearsBind);\n    }\n    pausePlay(){\n        var previousYearButton = document.querySelector('.' + s.yearButtonPrevious);\n        if ( previousYearButton ){\n            document.querySelector('.' + s.yearButtonPrevious).classList.remove(s.yearButtonPrevious);\n        }\n        this.playBtn.blur();\n        this.playBtn.removeEventListener('click', this.pausePlayBind);\n        S.setState('isPaused', true);\n        this.playBtn.classList.add(s.willPause);\n    }\n    disableYearButtons(){\n        this.yearButtons = this.yearButtons || document.querySelectorAll('.' + s.yearButton);\n        this.yearButtons.forEach(function(btn){\n            btn.setAttribute('disabled','disabled');\n        });\n    }\n    disablePlayButton(){\n        this.playBtn = this.playBtn || document.querySelector('.' + s.playButton);\n        this.playBtn.setAttribute('disabled','disabled');\n    }\n    enablePlayButton(){\n        this.playBtn = this.playBtn || document.querySelector('.' + s.playButton);\n        this.playBtn.removeAttribute('disabled');\n    }\n    enableYearButtons(){\n        this.yearButtons = this.yearButtons || document.querySelectorAll('.' + s.yearButton);\n        this.yearButtons.forEach(function(btn){\n            btn.removeAttribute('disabled');\n        });\n    }\n    playYears(event){\n        if ( event === 'reciprocal' ){\n            GTMPush('ABXAnimation|Replay');\n        } else {\n            GTMPush('ABXAnimation|Play');\n        }\n        let thisResolveDelay = this.animateYears ? 0 : 0.625 * duration;\n        S.setState('isPaused', false);\n        S.setState('isBackward', false);\n       // S.setState('isSameYear', false);\n        this.disableYearButtons();\n        this.playBtn = this.playBtn || document.querySelector('.' + s.playButton);\n        this.playBtn.blur();\n        function nextPromise(){\n            if ( S.getState('isPaused') ){\n                this.enableYearButtons();\n                this.removePauseOption();\n                return;\n            }\n            currentYear++;\n            if ( currentYear <= this.model.years[this.model.years.length - 1] ){\n                    new Promise(resolve => {\n                        this.setYearState([currentYear, resolve, 0]); \n                    }).then(() => {\n                        setTimeout(() => {\n                            nextPromise.call(this);\n                        }, thisResolveDelay);\n                    });    \n            \n            } else {\n                this.showReplayOption.call(this);\n                this.enableYearButtons();\n            }\n        }\n\n        if ( event !== 'reciprocal' ){\n            this.showPauseOption();\n        }\n        \n        var currentYear = S.getState('year')[0];\n        if ( this.model.years.indexOf(+currentYear) === this.model.years.length - 1 ){\n            let _duration = this.animateYears ? duration : 0.625 * duration;\n            this.removeReplayOption();\n            isFirstLoad = true;\n            this.clearAttributesAndDetails();\n            this.setYearState([this.model.years[0], null, 0], true);\n            setTimeout(() => {\n                this.playYears('reciprocal');\n            }, _duration);\n        } else {\n           \n                new Promise((resolve) => {\n                    if ( S.getState('isPaused') ){\n                        this.enableYearButtons();\n                        resolve(false);\n                    } else {\n                        //setTimeout(() => {\n                            resolve(true);\n                        //}, thisResolveDelay);\n                    }\n                }).then(resolution => {\n                    if ( !S.getState('isPaused') && resolution === true ){\n                        nextPromise.call(this);\n                    }\n                });\n        }\n        \n\n    }\n    showReplayOption(){\n        this.replayBtn = this.replayBtn || document.querySelector('.' + s.playButton);\n        this.replayBtn.removeEventListener('click', this.pausePlayBind);\n        this.replayBtn.addEventListener('click', this.playYearsBind);\n        this.replayBtn.classList.add(s.replay);\n        this.replayBtn.classList.remove(s.pause);\n        this.replayBtn.classList.remove(s.willPause);\n        this.replayBtn.title = \"Replay\";\n    }\n    showPauseOption(){\n        this.replayBtn = this.replayBtn || document.querySelector('.' + s.playButton);\n        this.pausePlayBind = this.pausePlay.bind(this);\n        this.removeReplayOption();\n        this.replayBtn.removeEventListener('click', this.playYearsBind);\n        this.replayBtn.addEventListener('click', this.pausePlayBind);\n        this.replayBtn.classList.add(s.pause);\n        this.replayBtn.classList.remove(s.replay);\n        this.replayBtn.title = \"Pause\";\n    }\n    removePauseOption(){\n        console.log('removing pause option');\n        this.replayBtn = this.replayBtn || document.querySelector('.' + s.playButton);\n        this.replayBtn.removeEventListener('click', this.pausePlayBind);\n        this.replayBtn.addEventListener('click', this.playYearsBind);\n        this.replayBtn.classList.remove(s.pause);\n        this.replayBtn.classList.remove(s.willPause);\n        this.replayBtn.title = \"Play\";\n    }\n    removeReplayOption(){\n        this.replayBtn = this.replayBtn || document.querySelector('.' + s.playButton);\n        this.replayBtn.classList.remove(s.replay);\n        //this.replayBtn.title = \"Play\";\n    }\n    checkHeight() {\n\n        \n        \n        /* add 'squat' class to body for small screens */\n        if (window.innerHeight < this.heightNeeded) {\n            document.body.classList.add(s.squat);\n        } else {\n            document.body.classList.remove(s.squat);\n        }\n        /*if ( document.querySelector('#section-comparison .js-inner-content').offsetHeight > window.innerHeight ) {\n            document.body.classList.add(s.superSquat);\n        } else {\n            document.body.classList.remove(s.superSquat);\n        }*/\n\n        function adjustCSSVariables() {\n            var root = document.documentElement;\n            var activeMax = Math.floor((this.heightNeeded - this.unitPadding - this.headerHeight) * (this.maxActive / (this.maxActive + this.maxDiscontinued)));\n            root.style.setProperty('--unit-dimension', this.minUnitDimension + 'px');\n            root.style.setProperty('--header-height', this.headerHeight + 'px');\n            root.style.setProperty('--max-container-height', this.heightNeeded + 'px');\n            root.style.setProperty('--active-max-height', activeMax + 'px');\n            root.style.setProperty('--discontinued-max-height', Math.floor(this.heightNeeded - activeMax - this.headerHeight) + 'px');\n\n            /*\n            :root {\n                --max-container-height: 800px;\n                --active-max-height: 368px;\n                --discontinued-max-height: 368px;\n                --squat-active-proportion: 50vh;\n                --squat-discontinued-proportion: 50vh;\n                --unit-dimension: 30px;\n                --header-height: 45px;\n            }\n\n            */\n        }\n        adjustCSSVariables.call(this);\n    }\n    initializeYearButtons(){\n        document.querySelectorAll('.' + s.yearButton).forEach(button => {\n            \n            var _this = this;\n            button.addEventListener('click', function(){\n                var currentYear = S.getState('year')[0];\n                console.log(currentYear, this.value);\n                if ( currentYear != this.value ) { // is not the already selected button\n                    GTMPush('ABXAnimation|Year|' + this.value);\n                    S.setState('isPaused', false);\n                    this.blur();\n                    _this.disablePlayButton();\n                    _this.removeReplayOption();\n                //    S.setState('isSameYear', false);\n                    //let observations;\n                    if ( +this.value > +currentYear ) {\n                    //    observations = [0,1];\n                        S.setState('isBackward', false);\n                        new Promise(() => {\n                            _this.setYearState([this.value, null, 0]);\n                        });\n                    } else {\n                    //    observations = [1,0];\n                        S.setState('isBackward', true);\n                        new Promise(() => {\n                            _this.setYearState([this.value, null, 0]);\n                        })\n                    }\n                }/* else {\n                    let observation = this.classList.contains(s.observation0) ? 1 : 0;\n                    S.setState('isSameYear', true);\n                    _this.setYearState([this.value, null, observation]);   \n                }*/\n            });\n        });\n    }\n    update(msg,data) { // here data is an array. [0]: year; [1]: null or `resolve` from the Promise. needs to resolve true when all transitions of current update are finished . 3. observation index\n        \n        // find btn to be deselected and change its appearance\n        var toBeDeselectedActive = document.querySelector('.' + s.yearButtonActive);        //observationToCheckAgainst = !S.getState('isBackward') ? 0 : 1;\n       \n        toBeDeselectedActive.classList.remove(s.yearButtonActive, s.observation, s.observation0, s.observation1)\n\n      /*  if ( data[2] === observationToCheckAgainst ) { // is first observation\n            toBeDeselectedActive.classList.add(s.yearButtonPrevious);\n        } else {\n            let toBeDeselectedPrevious = document.querySelector('.' + s.yearButtonPrevious);\n            if (toBeDeselectedPrevious) {\n                toBeDeselectedPrevious.classList.remove(s.yearButtonPrevious);\n            }\n        }*/\n        \n        // find button that matches new selection and change its appearance\n        var btn = document.querySelector('button[value=\"' + data[0] +'\"]');\n        \n        //toggle observation 0 or observation 1\n        btn.classList.add(s.yearButtonActive);\n       /* if ( data[2] === 0 ){\n            btn.classList.remove(s.observation1);\n        } else {\n            btn.classList.remove(s.observation0);\n        }*/\n        //btn.classList.add(s.observation, s['observation' + data[2]])\n        this.FLIP(parseInt(data[0]), data[1], data[2]); // yearIndex, resolve fn, observation\n        this.updateText();\n    }\n    updateText(){\n        // phaseMembers[1] is the current state; [0] is the previous state\n        var totalActive = this.phaseMembers[1][this.phaseMembers[1].length - 1].active.length,\n            totalDiscontinued = this.phaseMembers[1].reduce((acc,cur) => {\n                return acc + cur.discontinued.length;\n            },0),\n            approvedSpan = document.querySelector('#total-approved'),\n            discontinuedSpan = document.querySelector('#total-discontinued'),\n            year = S.getState('year')[0],\n            totals = document.querySelector('#abx-totals');\n        if ( +year > this.model.years[0] ){\n            totals.classList.add('is-subsequent');\n        } else {\n            totals.classList.remove('is-subsequent');\n        }\n        if ( approvedSpan.innerHTML != totalActive) {\n            document.querySelector('#total-approved').fadeInContent(totalActive);\n        }\n        if ( discontinuedSpan.innerHTML != totalDiscontinued ) {\n            document.querySelector('#total-discontinued').fadeInContent(totalDiscontinued);\n        }\n    }\n    FLIP(data, resolve, observation = 0){ // observation defaults to 0 for the initial page load animation.  LEGACY FROM WHEN THERE WERE TWO OBSRVATIONS PER YEAR\n        this.recordFirstPositions(); // first positions on page\n        //this.recordStatuses(data, observation);\n        this.clearAttributesAndDetails(); // removes classNames and IDs of nonempty drug\n\n        // params 1. index of the year (2014 -> 0); 2. index of the observation; \n        this.populatePlaceholders(this.model.years.indexOf(data), observation); // last  \n\n        this.nonEmptyDrugs = document.querySelectorAll('.' + s.drug + ':not(.' + s.drugEmpty + ')');\n        tippy(this.nonEmptyDrugs,{\n            arrow: true,\n            distance: 3\n        });\n        console.log(this.animateYears !== false);\n        var isBackward = S.getState('isBackward');\n        if ( this.animateYears !== false && isBackward == false ) {\n            this.invertPositions();\n        }\n            this.playAnimation(resolve, ( this.animateYears && !isBackward ) ); // pass in the `resolve` function from the promise initiated when the year button was pressed or Play loop cycled\n           /* if ( !resolve ){\n                setTimeout(() => {\n                    this.enablePlayButton();\n                }, duration);\n            }*/\n        //} else {\n            /*if ( resolve ){\n                setTimeout(() => {\n                    this.enablePlayButton();\n                    resolve(true);\n                }, duration);\n            } else {\n                this.enablePlayButton();\n            }*/\n          /*  this.playAnimation(resolve);\n\n        }*/\n\n        \n     \n    }\n    recordStatuses(year, observation){\n        \n        this.previousStatuses = this.model.data[this.model.years.indexOf(+year)].observations[observation].reduce((acc, phase) => { // cur is the phase object\n                phase.values.forEach(drug => {\n                    acc[drug.id] = {\n                        column: drug[year][observation].column,\n                        isDiscontinued: drug[year][observation].isDiscontinued\n                    };\n                })\n            return acc;\n        },{});\n    }\n    recordFirstPositions(){\n        this.firstPositions = Array.from(document.querySelectorAll('.' + s.drug + ':not(' + s.drugEmpty + ')')).reduce((acc, cur) => {\n            \n            acc[cur.id] = cur.getBoundingClientRect();\n            return acc;\n        },{});\n    }\n    clearAttributesAndDetails(){\n        this.nonEmptyDrugs.forEach(drug => {\n            drug.className =  `${s.drug} ${s.drugEmpty}`;\n            drug.id = '';\n            drug.setAttribute('data-tippy-content','');\n            if ( drug._tippy ){\n                drug.removeAttribute('tabindex');\n                drug._tippy.destroy();\n            }\n           // drug.innerText = '';\n        });\n    }\n    invertPositions(){\n        this.nonEmptyDrugs.forEach(drug => {\n            drug.style.transitionDuration = '0s';\n            var lastPosition = drug.getBoundingClientRect(),\n                deltaY = this.firstPositions[drug.id] ? this.firstPositions[drug.id].top - lastPosition.top : -3000,\n                deltaX = this.firstPositions[drug.id] ? this.firstPositions[drug.id].left - lastPosition.left : -3000; // drugs that are entering will not have firstPositions\n            drug.style.transform = `translate(${deltaX}px, ${deltaY}px)`;\n            if ( deltaY !== 0 || deltaX !== 0 ){\n                 drug.classList.add(s.isTranslated);\n            }\n            if ( !this.firstPositions[drug.id] ){\n                drug.classList.add(s.entering);\n            }\n        });\n    }\n    playAnimation(resolve, animateYears){\n        console.log(S.getState('isBackward'));\n        var column = headers.length,\n            currentState = S.getState('year'),\n            currentYear = currentState[0],\n            currentObservation = currentState[2];\n        //console.log(currentYear, currentObservation);\n            \n        function testColumn(){\n            return column > 0 ;\n        }\n        function incrementColumn(){\n            column--;\n        }\n       \n        function resolveTrue(duration){\n            if (resolve) {\n                \n                setTimeout(function() {\n                    resolve(true);\n                }, duration);\n                \n            }\n        }\n        \n        function transition(DOMDrug, dur = duration, index = null){\n            let _index = index;\n           // var translateXY = DOMDrug.style.transform.match(/translate\\((.*?)\\)/)[1].replace(' ','').split(',');\n           // var distanceToTravel = Math.sqrt( Math.abs(parseInt(translateXY[0])) ** 2 + Math.abs(parseInt(translateXY[0])) ** 2 );\n            var styleMatch = DOMDrug.style.transform.match(/translate\\((.*?)\\)/);\n            var translateXY = styleMatch ? styleMatch[1].replace(' ','').split(',').map(d => parseInt(d)) : [0,0];\n            console.log(translateXY, DOMDrug);\n            if ( ( translateXY[0] !== 0 || translateXY[1] !== 0 ) && ( index === 0 || index === 1 || index === 3 ) ){\n                DOMDrug.classList.add(s.isMoving);\n                if (translateXY[0] > 78 ) {\n                    DOMDrug.classList.add('js-has-moved-backward', s.hasMovedBackward ); // 78 cuz in double column views drugs can move 78 px and still be in the same phase\n                }\n                DOMDrug._tippy.show(0);\n            }\n            DOMDrug.style.transitionDuration = dur / 1000 + 's';\n            setTimeout(() => {\n                console.log(DOMDrug._tippy.popper.style);\n                var match = DOMDrug._tippy.popper.style.transform.match(/translate3d\\((.*?)\\)/);\n                var popperCurrentTranslate3d = match ? match[1].replace(' ','').split(',').map(d => parseInt(d)) : [0,0,0];\n                console.log(popperCurrentTranslate3d);\n                if ( _index === 0 || _index === 1 || _index === 3 ){\n                    DOMDrug._tippy.popper.style.transitionDuration = dur / 1000 + 's';\n                    DOMDrug._tippy.popper.style.transitionTimingFunction = 'ease-in-out';\n                }\n                window.requestAnimationFrame(function(){\n                   if ( _index === 0 || _index === 1 || _index === 3 ){\n                    DOMDrug._tippy.popper.style.transform = `translate3d(${parseInt(popperCurrentTranslate3d[0]) - parseInt(translateXY[0])}px, ${parseInt(popperCurrentTranslate3d[1]) - parseInt(translateXY[1])}px, 0px)`;\n                   }\n                    DOMDrug.style.transform = DOMDrug.classList.contains('js-has-moved-backward') ? 'translate(0px,0px) rotate(-10deg)' : 'translate(0px,0px)'; \n                });\n                setTimeout(function(){\n                    DOMDrug.classList.remove(s.isMoving);   \n                    DOMDrug.classList.remove(s.isTranslated);\n                    DOMDrug._tippy.popper.style.transitionDuration = '0s';\n                    DOMDrug._tippy.hide();\n                }, dur);\n            });\n        }\n        function highlightColumn(bool){\n            if ( column > 0 ){\n                let header = document.querySelectorAll('.' + s.headerDiv)[column - 1];\n                if (bool){\n                    header.classList.add(s.isAnimating);\n                } else {\n                    header.classList.remove(s.isAnimating);\n                }\n            }\n        }\n        function animateSingleColumn(resolve){\n            let subsetDelay = animateYears ? 500 : 0;\n            highlightColumn(true);\n            this.disableYearButtons();\n\n            var matchingDrugIDs = Object.keys(this.previousStatuses).filter(id => this.previousStatuses[id].column === column),\n                matchingDOMDrugs = Array.from(this.nonEmptyDrugs).filter(DOMDrug => matchingDrugIDs.includes(DOMDrug.id));\n            var elementsWillStayButMove = matchingDOMDrugs.filter(el => {\n                var currentDatum = this.model.unnestedData.find(d => d.id === el.id)[currentYear][currentObservation];\n                var translateXY = el.style.transform.match(/translate\\((.*?)\\)/) ? el.style.transform.match(/translate\\((.*?)\\)/)[1].replace(' ','').split(',') : [0,0];\n                el.translateXY = translateXY;\n                return ( this.previousStatuses[el.id].column === currentDatum.column && this.previousStatuses[el.id].isDiscontinued === currentDatum.isDiscontinued && ( translateXY[0] !== '0px' || translateXY[1] !== '0px' ) );\n            });\n            var elementsWillChangeStatus = matchingDOMDrugs.filter(el => this.previousStatuses[el.id].isDiscontinued !== this.model.unnestedData.find(d => d.id === el.id)[currentYear][currentObservation].isDiscontinued );     \n            var elementsWillMoveForward = matchingDOMDrugs.filter(el => this.previousStatuses[el.id].column !== 0 && this.previousStatuses[el.id].column < this.model.unnestedData.find(d => d.id === el.id)[currentYear][currentObservation].column );\n            var elementsWillMoveBackward = matchingDOMDrugs.filter(el => this.previousStatuses[el.id].column > this.model.unnestedData.find(d => d.id === el.id)[currentYear][currentObservation].column );\n            var elementsWillEnter = matchingDOMDrugs.filter(el => this.previousStatuses[el.id].column === 0);\n\n            var subsets = [elementsWillMoveForward, elementsWillMoveBackward, elementsWillStayButMove, elementsWillChangeStatus, elementsWillEnter];\n           // console.log(elementsWillStayButMove);\n            var lengthOfAllSubsets = subsets.reduce(function(acc,cur){\n                return acc + cur.length;\n            },0);\n            console.log(lengthOfAllSubsets);\n            \n            function handleSubset(index){\n                \n                let _index = index;\n                if ( _index === 1 ){\n                    document.querySelectorAll('.js-has-moved-backward').forEach(function(regressed){\n                        regressed.style.transform = 'translate(0px,0px)';\n                        regressed.classList.remove('js-has-moved-backward', s.hasMovedBackward);\n                    });\n                }\n                console.log('    subset ' + index , subsets[index]);\n                new Promise(resolve => {\n                    if (subsets[_index].length === 0){\n                        console.log('      skipping ^');\n                        resolve(true);        // if the subset is empty, resolve right away\n                    } else {\n                        subsets[_index].forEach((DOMDrug, i, array) => {\n                            //var translateXY = DOMDrug.style.transform.match(/translate\\((.*?)\\)/)[1].replace(' ').split(',');\n                            //var dur = translateXY[0] === 0 && translateXY[1] === 0 ? 0 : duration;\n                            var dur = _index === 2 ? duration / 12 : _index === 4 ? duration / 1.5 : duration; // speeds up transition for drugs that will stay but move; slows it down for  drugs that will enter\n                            var delay = _index === 2 ? dur * .5 * i : _index === 4 ? dur * .1 * i : dur * i;\n                            if (!animateYears){\n                                dur = 0;\n                                delay = 0; \n                            }\n                            setTimeout(() => {\n                                console.log(dur);\n                                transition(DOMDrug, dur, _index); // passing in the existing translate coords so that timing can be base on distance\n                            }, delay);\n                            if ( i === array.length - 1 ){\n                                console.log(_index);\n                                let resolveDelay = _index === 4 ? dur * 2 + subsetDelay : _index === 2 ? 0 : dur * (i + 1) + subsetDelay;\n                                if ( !animateYears ){\n                                    resolveDelay = 0;\n                                }\n                                setTimeout(() => {\n                                    resolve(true);\n                                }, resolveDelay); // wait until last item in subset has finished its transition\n                                              // before resolving and triggering the next subset\n                            }\n                        });\n                    }\n                }).then(() => {\n                    index++;\n                    if ( index < subsets.length ){ // if there are still more subsets to handle, handle them\n                        handleSubset.call(this, index);\n                    } else {\n                        //return; // if not, stop\n\n                        if ( testColumn() ){\n                            //setTimeout(() => {\n                                highlightColumn(false);\n                                incrementColumn();\n                                animateSingleColumn.call(this, resolve);\n                        } else {\n                            let delayBetweenObservation = animateYears ? 0 : 0\n                            setTimeout(() => {\n                                this.enableYearButtons();\n                                console.log(S.getState('year')[0], this.model.years[this.model.years.length - 1], S.getState('year')[2]);\n                                    this.enablePlayButton();\n                                    if ( S.getState('year')[0] == this.model.years[this.model.years.length - 1] ) {\n                                        highlightColumn(false);\n                                        this.showReplayOption();\n                                    }\n                                if ( !S.getState('isPaused') ){\n                                    highlightColumn(false);\n                                    resolve(true);  \n                                } else {\n                                    highlightColumn(false);\n                                    this.removePauseOption();\n                                    this.enableYearButtons();\n                                }\n                            }, delayBetweenObservation);\n                        }\n                    }\n                });\n            }\n            setTimeout(() => {\n                handleSubset.call(this,0);\n            }, subsetDelay);\n          \n        } // end animateSingleColumn\n        \n        // continue playAnimation, which is called once for each observation (2x for each year)\n        if ( isFirstLoad ){ // ie is  the first animation on load FIRST ANIMATION\n\n            \n            this.nonEmptyDrugs.forEach((DOMDrug) => {\n                transition(DOMDrug, 0);\n            });\n            isFirstLoad = false;\n       //     resolveTrue(duration); */\n        } else { // is not the first animation on load, ie drugs have previous statuses SUBSEQUENT ANIMATIONS\n            let enteringDrugs = Array.from(this.nonEmptyDrugs).filter(DOMDrug => !Object.keys(this.previousStatuses).includes(DOMDrug.id));\n            enteringDrugs.forEach(enteringDrug => {\n                this.previousStatuses[enteringDrug.id] = {\n                    column: 0,\n                    isDiscontinued: false\n                };\n            });\n            \n            new Promise(resolve => {\n                animateSingleColumn.call(this, resolve);\n            }).then(function(){\n                resolveTrue(0);\n            });\n        }\n    }\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"src-views-viz-view--container\",\"superSquat\":\"src-views-viz-view--superSquat\",\"activeContainer\":\"src-views-viz-view--activeContainer\",\"headerContainer\":\"src-views-viz-view--headerContainer\",\"squat\":\"src-views-viz-view--squat\",\"column\":\"src-views-viz-view--column\",\"discontinuedContainer\":\"src-views-viz-view--discontinuedContainer\",\"drug\":\"src-views-viz-view--drug\",\"drugEmpty\":\"src-views-viz-view--drugEmpty\",\"isTranslated\":\"src-views-viz-view--isTranslated\",\"novel\":\"src-views-viz-view--novel\",\"urgent\":\"src-views-viz-view--urgent\",\"gramNegative\":\"src-views-viz-view--gramNegative\",\"wasDiscontinued\":\"src-views-viz-view--wasDiscontinued\",\"hasMovedBackward\":\"src-views-viz-view--hasMovedBackward\",\"isMoving\":\"src-views-viz-view--isMoving\",\"headerDiv\":\"src-views-viz-view--headerDiv\",\"isAnimating\":\"src-views-viz-view--isAnimating\",\"phaseFull\":\"src-views-viz-view--phaseFull\",\"phaseAbbr\":\"src-views-viz-view--phaseAbbr\",\"controlContainer\":\"src-views-viz-view--controlContainer\",\"playButton\":\"src-views-viz-view--playButton\",\"yearButton\":\"src-views-viz-view--yearButton\",\"inputWrapper\":\"src-views-viz-view--inputWrapper\",\"pause\":\"src-views-viz-view--pause\",\"replay\":\"src-views-viz-view--replay\",\"willPause\":\"src-views-viz-view--willPause\",\"pauseSpinner\":\"src-views-viz-view--pauseSpinner\",\"yearButtonActive\":\"src-views-viz-view--yearButtonActive\",\"inputLabel\":\"src-views-viz-view--inputLabel\"};","import Element from '@UI/element';\n\n\nexport default class VisuallyHidden extends Element {\n    \n    prerender(){\n         //container\n        var view = super.prerender();\n        this.name = 'VisuallyHidden';\n        if ( this.prerendered && !this.rerender) {\n            return view; // if prerendered and no need to render (no data mismatch)\n        }\n        view.classList.add('visually-hidden');\n        this.model.data.forEach(year => {\n\n            var heading = document.createElement('h2');\n            view.appendChild(heading);\n            heading.textContent = year.year;\n            year.observations[0].forEach(phase => {\n                var subheading = document.createElement('h3');\n                subheading.textContent = phase.phase === 4 ? 'New drug application' : phase.phase === 5 ? 'Approved' : 'Phase ' + phase.phase;\n                view.appendChild(subheading);\n                ['Active','Inactive'].forEach((status,i) => {\n                    var statusLabel = document.createElement('h4');\n                    statusLabel.textContent = status;\n                    view.appendChild(statusLabel);\n                    var list = document.createElement('ul');\n                    var matches = phase.values.filter(d => i === 0 ? !d[year.year][0].isDiscontinued : d[year.year][0].isDiscontinued );\n                    matches.forEach(drug => {\n                        var item = document.createElement('li');\n                        item.textContent = `${drug.name} (${drug.company})`;\n                        list.appendChild(item);\n                    });\n                    view.appendChild(list);\n                });\n            });\n\n        });\n        return view;\n    }\n    init(){\n    }\n}","import Router from '@Router';\nexport default class PCTApp {\n    constructor(container, options){\n        this.container = container;\n        this.el = document.querySelector(container);\n        Object.keys(options).forEach(option => {\n            this[option] = options[option];\n        });\n    }\n    init(routerOptions){\n        if ( this.needsRouter ){ // comes from options object\n            this.router = new Router();\n            this.router.init(routerOptions);\n        }\n        this.disableHoverOnTouch();\n    }\n    disableHoverOnTouch(){\n    // HT: https://stackoverflow.com/a/30303898\n        var hasHoverClass = false;\n        var container = document.body;\n        var lastTouchTime = 0;\n\n        function enableHover() {\n            // filter emulated events coming from touch events\n            if (new Date() - lastTouchTime < 500) return;\n            if (hasHoverClass) return;\n\n            container.classList.add('has-hover');\n            hasHoverClass = true;\n        }\n\n        function disableHover() {\n            if (!hasHoverClass) return;\n            container.classList.remove('has-hover');\n            hasHoverClass = false;\n        }\n\n        function updateLastTouchTime() {\n            lastTouchTime = new Date();\n        }\n\n        document.addEventListener('touchstart', updateLastTouchTime, true);\n        document.addEventListener('touchstart', disableHover, true);\n        document.addEventListener('mousemove', enableHover, true);\n\n        enableHover();\n    }\n    createComponent(model, component, selector, _options){ \n        var options = Object.create({\n            children: [],\n            data: null,\n            model,\n            parent: null,\n            rerenderOnDataMismatch: false\n        });\n        if ( _options !== null && typeof _options === 'object' ){\n            for ( let key in _options ){\n                if ( _options.hasOwnProperty(key) ){\n                    options[key] = _options[key];\n                }\n            }\n        }\n        \n        return new component(selector, options);\n    }\n}","export default class Router { // this could be integrated with stateful dead\n    /*\n    Router offers basic shared functions for all routers. Methods for updating  history state and updating the hash url. Array of subscriptions\n    that affect the url is passed in. The PubSub module is passed in. setHash and decodeHash functions are passed in bc they will be diff\n    for each app. views are passed in so that the resolutions of their promises can be tracked and acted upon (ie router decodes only after \n    all views are ready)\n    */\n    init(routerOptions){\n        \n        if ( routerOptions === undefined || typeof routerOptions !== 'object' ){\n            throw 'router.init method requires a config object as parameter 1'\n        }\n        if ( typeof routerOptions.encode !== 'function' || typeof routerOptions.decode !== 'function' || !Array.isArray(routerOptions.views) || typeof routerOptions.PS !== 'object' ){\n            throw 'routerOptions object needs encode, decode, views, and PS properties. encode and decode must be functions; views is an array of views from the app; PS needs to be the PubSub setter.'\n        }\n        this.stateObj = {};\n        this.hashState = routerOptions.encode;\n        this.decodeHash = routerOptions.decode;\n        this.viewPromises = routerOptions.views.map(each => each.isReady); // view.isReady is a promised resolved true after the view is rendered\n        this.PS = routerOptions.PS;\n        \n        Promise.all(this.viewPromises).then(() => {\n            \n            this.decodeHash();\n        });\n        this.PS.setSubs(routerOptions.subscriptions.map(each => { // subscriptions that matter for router are made to trigger hashChange method when published\n            var arr = [each, (msg,data) => {\n                this.hashChange.call(this,msg,data);\n            }];\n            \n            return arr;\n        }));\n    }\n    hashChange(msg,data){\n        this.setStateObj(msg,data);\n        this.hashState();\n        this.replaceState();\n    }\n    setStateObj(msg, data){\n        this.stateObj[msg] = data;\n        \n    }\n    replaceState(){    \n        window.history.replaceState(this.stateObj,'',this.hashString)\n    }\n\n}","module.exports = \"<section id=\\\"intro\\\">\\n    <div class=\\\"js-inner-content\\\">\\n    </div>\\n</section>\\n<section id=\\\"section-comparison\\\">\\n    <div class=\\\"js-inner-content\\\">\\n        <h2>Antibiotics in Development Since 2014</h2>\\n        <div class=\\\"abx-legend\\\">\\n            <div class=\\\"abx-legend--wrapper\\\">\\n                <p class=\\\"abx-legend--item abx-legend--item--abx\\\">Antibiotic</p>\\n                <p class=\\\"abx-legend--item abx-legend--item--urgent\\\">Expected to treat CDC urgent pathogen</p>\\n            </div>\\n            <div class=\\\"abx-legend--wrapper\\\">\\n                <p class=\\\"abx-legend--item abx-legend--item--novel\\\">Novel antibiotics</p>\\n                <p class=\\\"abx-legend--item abx-legend--item--gram\\\">Expected to treat Gram-negative bacteria</p>\\n            </div>\\n        </div>\\n        <div id=\\\"abx-visualization\\\">\\n        </div>\\n        <div id=\\\"abx-totals\\\">\\n            <p>Total <strong>approved</strong> antibiotics <span class=\\\"since-2014\\\">since 2014</span>: <span id=\\\"total-approved\\\" class=\\\"total-span\\\"></span></p>\\n            <p>Total <strong>discontinued</strong> antibiotics <span class=\\\"since-2014\\\">since 2014</span>: <span id=\\\"total-discontinued\\\" class=\\\"total-span\\\"></span></p>\\n        </div>\\n        <a name=\\\"summary\\\" id=\\\"summary\\\"></a>\\n        <div id=visually-hidden-container>\\n\\n        </div>\\n    </div>\\n</section>\\n<div id=\\\"abx-notes\\\"></div>\\n<footer class=\\\"download-resources\\\">\\n    <div>\\n        <p><strong>Resources:</strong>\\n            <a class=\\\"pct-download\\\" href=\\\"https://www.pewtrusts.org/en/research-and-analysis/issue-briefs/2019/03/tracking-the-global-pipeline-of-antibiotics-in-development\\\">Methodology</a>\\n            <a class=\\\"pct-download\\\" href=\\\"https://www.pewtrusts.org/en/research-and-analysis/data-visualizations/2014/antibiotics-currently-in-clinical-development\\\">Report</a>\\n        </p>\\n    </div>\\n</footer>\";","module.exports = \"<h2 id=\\\"antibiotic-innovation\\\">Antibiotic Innovation</h2>\\n<p>The Pew Charitable Trusts has tracked the pipeline of antibiotics in clinical development since 2014 and has aggregated updates into an interactive tool that illustrates trends in the pipeline—as drugs are either approved, discontinued from development, or remain stagnant. This longitudinal assessment underscores the long-standing concerns of scientists, doctors, public health officials, and other stakeholders regarding the dangerously low number of antibiotics in development to address current and future patient needs, particularly for treating the most urgent bacterial threats, such as Gram-negative pathogens, and those prioritized by the <a href=\\\"https://www.cdc.gov/drugresistance/biggest_threats.html\\\">Centers for Disease Control and Prevention</a> and the <a href=\\\"https://www.who.int/news-room/detail/27-02-2017-who-publishes-list-of-bacteria-for-which-new-antibiotics-are-urgently-needed\\\">World Health Organization</a>.</p>\\n<p>Click the play button to see the evolution of the antibiotic pipeline since 2014, or click on an individual year to see the status of the pipeline at a particular point in time. (For a view without animation, uncheck the “animate change” box.) To see additional information about each drug, hover over or tap any of the rectangles.</p>\\n<p class=\\\"visually-hidden\\\">Visually impaired users may wish to skip to <a href=\\\"#summary\\\">the summary of the content</a>.</p>\";","module.exports = \"<p><strong>Notes:</strong> Candidates included in this data visualization are consistent with Pew’s methodology for tracking antibiotics in clinical development. More information about methodology and the full underlying data can be found in <a href=\\\"https://www.pewtrusts.org/en/research-and-analysis/data-visualizations/2014/antibiotics-currently-in-clinical-development\\\">Pew’s latest pipeline analysis</a>. This interactive tool is updated annually. </p>\\n\";"],"sourceRoot":""}